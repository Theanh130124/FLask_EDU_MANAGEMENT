{% extends "layout/base_login.html" %}

{% block additional_css %}
<!-- CSS riêng cho login -->
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}

<div class="container">
    <div class="header">
        <a href="#">
            <i class="fa-solid fa-language"></i>
            English
        </a>
        <h2 class="mt-4 mb-5">ĐĂNG NHẬP</h2>
    </div>

    <form method="post" action="/login">
        {{ form.csrf_token }}
        <div class="form-floating mt-auto mb-auto">

            <label class="form-label">Tên đăng nhập</label>
            {{ form.username(class="form-control") }}
        </div>

        <div class="form-floating mt-auto mb-auto">
            <label class="mt-3 form-label">Mật khẩu</label>
            {{ form.password(class="form-control") }}

        </div>
        <p class="text-warning" id="warning-caps-lock" hidden="hidden"><i class="fa-solid fa-circle-exclamation"></i>
            Bạn đang bật Caps lock</p>
        {% if mse %}
        <p class="text-danger">{{ mse }}</p>
        {% endif %}
        <button type="submit" class="btn btn-primary w-100">{{ form.SubmitFieldLogin.label }}</button>

    </form>

    <div class="footer mt-4">
        <hr>
        <p>Nếu bạn chưa có tài khoản? <a href="https://hotro.ou.edu.vn">Vui lòng liên hệ </a> với nhà trường hoặc liên
            hệ đến địa chỉ email <i>hotro.ou.edu.vn</i> để được hổ trợ</p>
    </div>
    <script>
        const pwInput = document.getElementById("password")
        const labelWarning = document.getElementById("warning-caps-lock")
        pwInput.addEventListener('keyup',(event)=>{
            console.log(labelWarning.display)
            if(event.getModifierState("CapsLock"))
                labelWarning.removeAttribute("hidden");
            else{
                labelWarning.setAttribute("hidden", "hidden");
            }

        })
    </script>
</div>
{% endblock %}
